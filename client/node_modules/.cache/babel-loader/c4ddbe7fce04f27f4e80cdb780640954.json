{"ast":null,"code":"import css from\"./OneRecipe.module.css\";import{useEffect}from\"react\";import{Link,useParams}from\"react-router-dom\";import{useDispatch,useSelector}from\"react-redux\";import{loadRecipe}from\"../../../redux/recipe/recipeActions\";import GoBack from\"../../Custom/GoBack/GoBack\";import{useDelete}from\"./useDelete\";import{domain}from\"../../../config\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var OneRecipe=function OneRecipe(){var _useParams=useParams(),id=_useParams.id;var _useSelector=useSelector(function(state){return state.app;}),userId=_useSelector.userId;var dispatch=useDispatch();var _useSelector2=useSelector(function(state){return state.recipe;}),recipe=_useSelector2.recipe;var name=recipe.name,type=recipe.type,products=recipe.products,description=recipe.description,pathImg=recipe.pathImg,author=recipe.author;var belongToMe=author===userId;var backgroundImage=\"https://ucarecdn.com//\".concat(pathImg);if(pathImg===\"default.png\")backgroundImage=\"\".concat(domain,\"/static/RecipesImages/\").concat(pathImg);useEffect(function(){dispatch(loadRecipe(id));},[dispatch,id]);var deleteRecipe=useDelete();return/*#__PURE__*/_jsxs(\"div\",{className:\"defaultContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:css.navbar,children:[/*#__PURE__*/_jsx(GoBack,{}),belongToMe&&/*#__PURE__*/_jsxs(\"div\",{className:css.changeContainer,children:[/*#__PURE__*/_jsx(Link,{className:\"\".concat(css.button,\" \").concat(css.change),to:\"edit\",children:\"\\u0418\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C\"}),/*#__PURE__*/_jsx(\"button\",{className:\"\".concat(css.button,\" \").concat(css.delete),onClick:function onClick(){return deleteRecipe();},children:\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:css.header,children:[/*#__PURE__*/_jsx(\"div\",{className:css.imgSection,children:/*#__PURE__*/_jsx(\"div\",{className:css.img,style:{backgroundImage:\"url('\".concat(backgroundImage,\"')\")}})}),/*#__PURE__*/_jsxs(\"div\",{className:css.mainFields,children:[/*#__PURE__*/_jsx(\"p\",{className:css.label,children:name}),/*#__PURE__*/_jsx(\"p\",{className:css.type,children:type})]})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:css.body,children:[/*#__PURE__*/_jsxs(\"div\",{className:css.bodyNames,children:[/*#__PURE__*/_jsx(\"p\",{className:css.caption,children:\"\\u0418\\u043D\\u0433\\u0440\\u0438\\u0434\\u0438\\u0435\\u043D\\u0442\\u044B\"}),/*#__PURE__*/_jsx(\"p\",{className:css.caption,children:\"\\u0412\\u0435\\u0441\"})]}),/*#__PURE__*/_jsx(\"div\",{className:css.products,children:products===null||products===void 0?void 0:products.map(function(_ref){var ingredient=_ref.ingredient,weightOf=_ref.weightOf;return/*#__PURE__*/_jsxs(\"div\",{className:css.productBox,children:[/*#__PURE__*/_jsx(\"p\",{children:ingredient}),/*#__PURE__*/_jsx(\"p\",{children:weightOf})]},ingredient);})}),/*#__PURE__*/_jsxs(\"div\",{className:css.descriptionContainer,children:[/*#__PURE__*/_jsx(\"p\",{className:css.caption,children:\"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435\"}),/*#__PURE__*/_jsx(\"div\",{className:css.descriptionText,children:description})]})]})})]});};export default OneRecipe;","map":{"version":3,"sources":["D:/Work/Projects/web_sheet_node_server/client/src/components/Recipes/OneRecipe/OneRecipe.jsx"],"names":["css","useEffect","Link","useParams","useDispatch","useSelector","loadRecipe","GoBack","useDelete","domain","OneRecipe","id","state","app","userId","dispatch","recipe","name","type","products","description","pathImg","author","belongToMe","backgroundImage","deleteRecipe","navbar","changeContainer","button","change","delete","header","imgSection","img","mainFields","label","body","bodyNames","caption","map","ingredient","weightOf","productBox","descriptionContainer","descriptionText"],"mappings":"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","sourcesContent":["import css from \"./OneRecipe.module.css\";\r\nimport { useEffect } from \"react\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { loadRecipe } from \"../../../redux/recipe/recipeActions\";\r\nimport GoBack from \"../../Custom/GoBack/GoBack\";\r\nimport { useDelete } from \"./useDelete\";\r\nimport { domain } from \"../../../config\";\r\n\r\nconst OneRecipe = () => {\r\n  const { id } = useParams();\r\n  const { userId } = useSelector((state) => state.app);\r\n  const dispatch = useDispatch();\r\n  const { recipe } = useSelector((state) => state.recipe);\r\n  const { name, type, products, description, pathImg, author } = recipe;\r\n  const belongToMe = author === userId;\r\n  let backgroundImage = `https://ucarecdn.com//${pathImg}`;\r\n  if (pathImg === \"default.png\")\r\n    backgroundImage = `${domain}/static/RecipesImages/${pathImg}`;\r\n\r\n  useEffect(() => {\r\n    dispatch(loadRecipe(id));\r\n  }, [dispatch, id]);\r\n\r\n  const deleteRecipe = useDelete();\r\n\r\n  return (\r\n    <div className=\"defaultContainer\">\r\n      <div className={css.navbar}>\r\n        <GoBack />\r\n        {belongToMe && (\r\n          <div className={css.changeContainer}>\r\n            <Link className={`${css.button} ${css.change}`} to=\"edit\">\r\n              Изменить\r\n            </Link>\r\n            <button\r\n              className={`${css.button} ${css.delete}`}\r\n              onClick={() => deleteRecipe()}\r\n            >\r\n              Удалить\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n      <div className={css.header}>\r\n        <div className={css.imgSection}>\r\n          <div\r\n            className={css.img}\r\n            style={{\r\n              backgroundImage: `url('${backgroundImage}')`,\r\n            }}\r\n          ></div>\r\n        </div>\r\n        <div className={css.mainFields}>\r\n          <p className={css.label}>{name}</p>\r\n          <p className={css.type}>{type}</p>\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <div className={css.body}>\r\n          <div className={css.bodyNames}>\r\n            <p className={css.caption}>Ингридиенты</p>\r\n            <p className={css.caption}>Вес</p>\r\n          </div>\r\n          <div className={css.products}>\r\n            {products?.map(({ ingredient, weightOf }) => (\r\n              <div key={ingredient} className={css.productBox}>\r\n                <p>{ingredient}</p>\r\n                <p>{weightOf}</p>\r\n              </div>\r\n            ))}\r\n          </div>\r\n          <div className={css.descriptionContainer}>\r\n            <p className={css.caption}>Описание</p>\r\n            <div className={css.descriptionText}>{description}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OneRecipe;\r\n"]},"metadata":{},"sourceType":"module"}