{"ast":null,"code":"import _slicedToArray from\"D:\\\\Work\\\\Projects\\\\web_sheet_node_server\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import{useEffect,useState}from\"react\";import{useDispatch}from\"react-redux\";import{useSelector}from\"react-redux\";import{setMessage}from\"../../../redux/settings/settingsActions\";import css from\"./MessagePopup.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";var MessagePopup=function MessagePopup(){var _useSelector=useSelector(function(state){return state.settings;}),settingsMessages=_useSelector.settingsMessages;var dispatch=useDispatch();var _useState=useState(),_useState2=_slicedToArray(_useState,2),type=_useState2[0],setType=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),messageText=_useState4[0],setMessageText=_useState4[1];useEffect(function(){if(settingsMessages){setTimeout(function(){dispatch(setMessage());},2500);}},[dispatch,settingsMessages]);useEffect(function(){switch(settingsMessages){case\"IMAGE_SET_SUCCESS\":setType(css.success);setMessageText(\"Аватар успешно обновлен\");break;case\"FORBIDDEN_TYPE\":setType(css.error);setMessageText(\"Неправильный тип файла\");break;case\"LIMIT_FILE_SIZE\":setType(css.error);setMessageText(\"Вес изображения слишком большой\");break;case\"UNDEFIEND_IMAGE_ERROR\":setType(css.error);setMessageText(\"Не удалось обновить аватар\");break;case\"PASSWORD_CHANGE_LENGTH\":setType(css.error);setMessageText(\"Не менее 6 символов\");break;case\"PASSWORD_CHANGE_ERROR\":setType(css.error);setMessageText(\"Не удалось изменить пароль\");break;case\"PASSWORD_CHANGE_SUCCESS\":setType(css.success);setMessageText(\"Пароль успешно изменен\");break;default:setType(css.neutral);setMessageText(\"Неизвестная ошибка\");}},[settingsMessages]);return/*#__PURE__*/_jsx(\"div\",{className:[css.container,type].join(\" \"),children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"p\",{children:messageText})})});};export default MessagePopup;","map":{"version":3,"sources":["D:/Work/Projects/web_sheet_node_server/client/src/components/Settings/MessagePopup/MessagePopup.jsx"],"names":["useEffect","useState","useDispatch","useSelector","setMessage","css","MessagePopup","state","settings","settingsMessages","dispatch","type","setType","messageText","setMessageText","setTimeout","success","error","neutral","container","join"],"mappings":"6IAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,OAASC,UAAT,KAA2B,yCAA3B,CACA,MAAOC,CAAAA,GAAP,KAAgB,2BAAhB,C,2CAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzB,iBAA6BH,WAAW,CAAC,SAACI,KAAD,QAAWA,CAAAA,KAAK,CAACC,QAAjB,EAAD,CAAxC,CAAQC,gBAAR,cAAQA,gBAAR,CACA,GAAMC,CAAAA,QAAQ,CAAGR,WAAW,EAA5B,CACA,cAAwBD,QAAQ,EAAhC,wCAAOU,IAAP,eAAaC,OAAb,eACA,eAAsCX,QAAQ,EAA9C,yCAAOY,WAAP,eAAoBC,cAApB,eAEAd,SAAS,CAAC,UAAM,CACd,GAAIS,gBAAJ,CAAsB,CACpBM,UAAU,CAAC,UAAM,CACfL,QAAQ,CAACN,UAAU,EAAX,CAAR,CACD,CAFS,CAEP,IAFO,CAAV,CAGD,CACF,CANQ,CAMN,CAACM,QAAD,CAAWD,gBAAX,CANM,CAAT,CAQAT,SAAS,CAAC,UAAM,CACd,OAAQS,gBAAR,EACE,IAAK,mBAAL,CACEG,OAAO,CAACP,GAAG,CAACW,OAAL,CAAP,CACAF,cAAc,CAAC,yBAAD,CAAd,CACA,MACF,IAAK,gBAAL,CACEF,OAAO,CAACP,GAAG,CAACY,KAAL,CAAP,CACAH,cAAc,CAAC,wBAAD,CAAd,CACA,MACF,IAAK,iBAAL,CACEF,OAAO,CAACP,GAAG,CAACY,KAAL,CAAP,CACAH,cAAc,CAAC,iCAAD,CAAd,CACA,MACF,IAAK,uBAAL,CACEF,OAAO,CAACP,GAAG,CAACY,KAAL,CAAP,CACAH,cAAc,CAAC,4BAAD,CAAd,CACA,MACF,IAAK,wBAAL,CACEF,OAAO,CAACP,GAAG,CAACY,KAAL,CAAP,CACAH,cAAc,CAAC,qBAAD,CAAd,CACA,MACF,IAAK,uBAAL,CACEF,OAAO,CAACP,GAAG,CAACY,KAAL,CAAP,CACAH,cAAc,CAAC,4BAAD,CAAd,CACA,MACF,IAAK,yBAAL,CACEF,OAAO,CAACP,GAAG,CAACW,OAAL,CAAP,CACAF,cAAc,CAAC,wBAAD,CAAd,CACA,MAEF,QACEF,OAAO,CAACP,GAAG,CAACa,OAAL,CAAP,CACAJ,cAAc,CAAC,oBAAD,CAAd,CAhCJ,CAkCD,CAnCQ,CAmCN,CAACL,gBAAD,CAnCM,CAAT,CAqCA,mBACE,YAAK,SAAS,CAAE,CAACJ,GAAG,CAACc,SAAL,CAAgBR,IAAhB,EAAsBS,IAAtB,CAA2B,GAA3B,CAAhB,uBACE,kCACE,mBAAIP,WAAJ,EADF,EADF,EADF,CAOD,CA1DD,CA4DA,cAAeP,CAAAA,YAAf","sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { setMessage } from \"../../../redux/settings/settingsActions\";\r\nimport css from \"./MessagePopup.module.css\";\r\n\r\nconst MessagePopup = () => {\r\n  const { settingsMessages } = useSelector((state) => state.settings);\r\n  const dispatch = useDispatch();\r\n  const [type, setType] = useState();\r\n  const [messageText, setMessageText] = useState();\r\n\r\n  useEffect(() => {\r\n    if (settingsMessages) {\r\n      setTimeout(() => {\r\n        dispatch(setMessage());\r\n      }, 2500);\r\n    }\r\n  }, [dispatch, settingsMessages]);\r\n\r\n  useEffect(() => {\r\n    switch (settingsMessages) {\r\n      case \"IMAGE_SET_SUCCESS\":\r\n        setType(css.success);\r\n        setMessageText(\"Аватар успешно обновлен\");\r\n        break;\r\n      case \"FORBIDDEN_TYPE\":\r\n        setType(css.error);\r\n        setMessageText(\"Неправильный тип файла\");\r\n        break;\r\n      case \"LIMIT_FILE_SIZE\":\r\n        setType(css.error);\r\n        setMessageText(\"Вес изображения слишком большой\");\r\n        break;\r\n      case \"UNDEFIEND_IMAGE_ERROR\":\r\n        setType(css.error);\r\n        setMessageText(\"Не удалось обновить аватар\");\r\n        break;\r\n      case \"PASSWORD_CHANGE_LENGTH\":\r\n        setType(css.error);\r\n        setMessageText(\"Не менее 6 символов\");\r\n        break;\r\n      case \"PASSWORD_CHANGE_ERROR\":\r\n        setType(css.error);\r\n        setMessageText(\"Не удалось изменить пароль\");\r\n        break;\r\n      case \"PASSWORD_CHANGE_SUCCESS\":\r\n        setType(css.success);\r\n        setMessageText(\"Пароль успешно изменен\");\r\n        break;\r\n\r\n      default:\r\n        setType(css.neutral);\r\n        setMessageText(\"Неизвестная ошибка\");\r\n    }\r\n  }, [settingsMessages]);\r\n\r\n  return (\r\n    <div className={[css.container, type].join(\" \")}>\r\n      <div>\r\n        <p>{messageText}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MessagePopup;\r\n"]},"metadata":{},"sourceType":"module"}